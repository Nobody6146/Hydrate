<html lang="en">
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, viewport-fit=cover, user-scalable=no"/>
        <title>Hydrate Demo</title>
        <script src="hydrate.js"></script>
    </head>
    <body>

        <div>
            <header>
            
            </header>
    
            <!-- <main>
                <input h-model="default" h-property="text value" h-input="text value" value="Testing">
                <div h-model="default" h-property="text innerHTML" h-attribute="text name">
                    Sample text
                </div>
                <div h-model="default.object" h-property="text innerHTML" h-attribute="text name">
                    Sample text 2
                </div>
            </main> -->
    
            <template h-template="ExampleTemplate">
                <h1>Example Component</h1>
                <p h-model="^.name" h-property="textContent: `${first} ${last}`"></p>
            </template>
            <template h-template="ListTemplate">
                <li h-model="^" h-property="textContent: `key: ${$detail.modelName}, value: ${$detail.state}`"></li>
            </template>

            <main>
                <div h-model h-property="textContent: 'Overrided text from modeless component!'">Same Text</div>
                <input h-model="default" h-property="value: text" h-input="text: $element.value" value="Testing" h-callback="console.log('got data!')">
                <input h-model="default" h-property="value: text" h-on="input: $model.text = $element.value" value="Testing">
                <div h-model="default" h-property="'innerHTML': text" h-attribute="name: text">
                    Sample text
                </div>
                <div h-model="default.person" h-component="ExampleTemplate">
                    Placeholder text that will be deleted
                </div>
                <ul h-model="default.list" h-component="ListTemplate">
                    Placeholder list will be deleted
                </ul>
                <p h-model="default.person.name" h-property="textContent: `${first} ${last}`">lnkjhk</p>
            </main>
    
            <footer>
                <p>The literal and graphical information presented on this site about Digimon, including card images and card text, is copyright Bandai Namco Entertainment and Toei Animation. This website is not produced by, endorsed by, supported by, or affiliated with Bandai Namco Entertainment and Toei Animation.
                    All other content Â© 2020-2022 DigimonCard.
                </p>
            </footer>
            <script>
                document.body.addEventListener("hydrate:track", event => console.log(event.type, event.detail));
                document.body.addEventListener("hydrate:untrack", event => console.log(event.type, event.detail));
                document.body.addEventListener("hydrate:bind", event => console.log(event.type, event.detail));
                document.body.addEventListener("hydrate:set", event => console.log(event.type, event.detail));
                document.body.addEventListener("hydrate:unbind", event => console.log(event.type, event.detail));


                document.body.addEventListener("hydrate:element.track", event => console.log(event.type, event.detail));
                document.body.addEventListener("hydrate:element.untrack", event => console.log(event.type, event.detail));
                //
                document.body.addEventListener("hydrate:model.bind", event => console.log(event.type, event.detail));
                document.body.addEventListener("hydrate:model.set", event => console.log(event.type, event.detail));
                document.body.addEventListener("hydrate:model.unbind", event => console.log(event.type, event.detail));
                document.body.addEventListener("hydrate:mutation.parent.attribute", event => console.log(event.type, event.detail));
                document.body.addEventListener("hydrate:mutation.parent.added", event => console.log(event.type, event.detail));
                document.body.addEventListener("hydrate:mutation.parent.removed", event => console.log(event.type, event.detail));
                document.body.addEventListener("hydrate:mutation.parent.characters", event => console.log(event.type, event.detail));
                //
                document.body.addEventListener("hydrate:mutation.target.attribute", event => console.log(event.type, event.detail));
                document.body.addEventListener("hydrate:mutation.target.added", event => console.log(event.type, event.detail));
                document.body.addEventListener("hydrate:mutation.target.removed", event => console.log(event.type, event.detail));
                document.body.addEventListener("hydrate:mutation.target.characters", event => console.log(event.type, event.detail));
                //
                document.body.addEventListener("hydrate:mutation.child.attribute", event => console.log(event.type, event.detail));
                document.body.addEventListener("hydrate:mutation.child.added", event => console.log(event.type, event.detail));
                document.body.addEventListener("hydrate:mutation.child.removed", event => console.log(event.type, event.detail));
                document.body.addEventListener("hydrate:mutation.child.characters", event => console.log(event.type, event.detail));
                //
                document.body.addEventListener("hydrate:router.route", event => console.log(event.type, event.detail));
                

                let app = new HydrateApp();
                let div = document.querySelector("div");
                //let model = app.bind("default", {text: "hello", list: [{first: "Brandon", last: "Biera"}, {first:"Megan",last:"Wong"}]});
                let model = app.bind("default", {text: "hello", list: [1,2,3,4], person: {name: {first: "Brandon", last: "Biera"}}});
    
                // let event = new HydrateModelEvent();
                // event.target = div;
                // event.hydrate = app;
                // event.type = "bind";
                // event.propPath = "default.text";
                // event.prop = "hello world";
                // app.dispatch(event);
            </script>
        </div>
        
    </body>
</html>