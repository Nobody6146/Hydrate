<template h-template="app-header" h-model="header" h-init>
    <header>
        <h1 h-model="^" h-property="textContent: title"> </h1>
        <app-button
            h-model="^.button"
        >
        </app-button>
    </header>
    <script h-script>
        class Component {
            onInit(detail) {
                this.$model.title = "Task Tracker";
                this.$model.button = {
                    text: "",
                    color: "",
                    onClick: this.toggleAddTaskMenu.bind(this)
                };
                this.#updateButton(UiService.addTaskMenu.visible);
            }
            toggleAddTaskMenu() {
                this.#updateButton(UiService.toggleAddTaskMenu());
            }
            #updateButton(showAddTaskMenu) {
                // if(!this.$state.button)
                //     return;
                this.$model.button.text = showAddTaskMenu ? "Close" : "Add";
                this.$model.button.color = showAddTaskMenu ? "red" : "green";
            }
        }
    </script>
</template>